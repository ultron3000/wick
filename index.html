<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Cloud TV</title>

<link rel="icon" href="https://static.readdy.ai/image/0ece273271e400e488b9947cb1e99e9a/a79b6f32c71c4ee2094ead0eb9c84c9b.png" />
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
:root {
  --bg: #050509;
  --card: #0b0b12;
  --glass: rgba(255,255,255,.06);
  --border: rgba(255,255,255,.08);
  --accent: #00e5ff;
  --radius: 18px;
}

* {
  box-sizing: border-box;
  -webkit-tap-highlight-color: transparent;
}

body {
  margin: 0;
  font-family: 'Inter', system-ui, sans-serif;
  background:
    radial-gradient(1200px 600px at top, #0b1a2a, transparent),
    radial-gradient(800px 400px at bottom, #020024, transparent),
    var(--bg);
  color: #fff;
}

/* ===== APP HEADER ===== */
header {
  position: sticky;
  top: 0;
  z-index: 20;
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 14px 16px;
  background: rgba(5,5,9,.65);
  backdrop-filter: blur(18px);
  border-bottom: 1px solid var(--border);
}

header img {
  height: 40px;
}

header span {
  font-size: 20px;
  font-weight: 700;
  letter-spacing: .4px;
}

/* ===== MAIN ===== */
main {
  padding: 14px;
  max-width: 1600px;
  margin: auto;
}

/* ===== GRID ===== */
.grid {
  display: grid;
  gap: 14px;
}

/* Mobile */
@media (max-width: 600px) {
  .grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* Tablet */
@media (min-width: 601px) and (max-width: 1024px) {
  .grid {
    grid-template-columns: repeat(3, 1fr);
  }
}

/* Desktop */
@media (min-width: 1025px) {
  .grid {
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  }
}

/* ===== CARD ===== */
.card {
  position: relative;
  background: linear-gradient(180deg, #101018, #07070c);
  border-radius: var(--radius);
  overflow: hidden;
  border: 1px solid var(--border);
  box-shadow: 0 10px 25px rgba(0,0,0,.55);
  transition: transform .25s ease, box-shadow .25s ease;
  cursor: pointer;
}

/* Touch feedback */
.card:active {
  transform: scale(.96);
}

/* Hover (desktop only) */
@media (hover:hover) {
  .card:hover {
    transform: translateY(-6px);
    box-shadow: 0 28px 55px rgba(0,0,0,.85);
  }
}

/* Glow overlay */
.card::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: radial-gradient(
    320px 140px at top,
    rgba(0,229,255,.22),
    transparent
  );
  opacity: 0;
  transition: opacity .4s ease;
  pointer-events: none;
}

@media (hover:hover) {
  .card:hover::after {
    opacity: 1;
  }
}

/* ===== LOGO ===== */
.logo {
  height: 120px;
  background: #fff;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  transition: transform .35s ease;
}

@media (hover:hover) {
  .card:hover .logo {
    transform: scale(1.1);
  }
}

/* ===== TITLE ===== */
.title {
  padding: 10px 8px;
  text-align: center;
  font-size: 13px;
  font-weight: 600;
  background: rgba(0,0,0,.5);
  backdrop-filter: blur(10px);
  border-top: 1px solid var(--border);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* ===== LOADING ===== */
.loading {
  text-align: center;
  padding: 60px 20px;
  opacity: .75;
  font-size: 14px;
  letter-spacing: .4px;
}

/* Categories Buttons */
#categories button {
  background: linear-gradient(145deg, #00e5ff, #00c8ff);
  color: white;
  border: none;
  padding: 12px 30px;
  font-size: 18px;
  margin: 10px;
  cursor: pointer;
  border-radius: 30px;
  font-weight: bold;
  transition: all 0.3s ease;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
  outline: none;
}

#categories button:hover {
  background: linear-gradient(145deg, #00c8ff, #00b3e6);
  transform: translateY(-4px);
  box-shadow: 0 8px 15px rgba(0, 0, 0, 0.3);
}

#categories button:active {
  background: linear-gradient(145deg, #00b3e6, #00a1cc);
  transform: translateY(2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}
</style>
</head>

<body>

<header>
  <img src="https://static.readdy.ai/image/0ece273271e400e488b9947cb1e99e9a/a79b6f32c71c4ee2094ead0eb9c84c9b.png" alt="Cloud TV">
  <span>Cloud TV</span>
</header>

<main>
  <!-- Categories Filter -->
  <div id="categories" style="text-align: center; margin-bottom: 20px;">
    <button onclick="filterCategory('All')">All</button>
    <button onclick="filterCategory('Sports')">Sports</button>
    <button onclick="filterCategory('Movies')">Movies</button>
    <button onclick="filterCategory('Entertainment')">Entertainment</button>
    <button onclick="filterCategory('Education')">Education</button>
  </div>

  <div id="loading" class="loading">Loading premium channelsâ€¦</div>
  <div id="channels" class="grid"></div>
</main>

<script>
  let allChannels = [];
  
  fetch('./channels.json')
    .then(res => res.json())
    .then(data => {
      allChannels = data;  // Store the original data
      displayChannels(allChannels);  // Display all channels initially
    })
    .catch(err => {
      document.getElementById('loading').innerText = 'Failed to load channels';
      console.error(err);
    });

  function displayChannels(channels) {
    document.getElementById('loading').style.display = 'none';
    const grid = document.getElementById('channels');
    grid.innerHTML = '';  // Clear existing channels
    
    channels.forEach(ch => {
      const card = document.createElement('div');
      card.className = 'card';
      card.onclick = () => {
        if (ch.id) {
          location.href = `player.html?id=${ch.id}`;
        } else {
          location.href = `player.html?url=${encodeURIComponent(ch.url)}&keyId=${ch.keyId}&key=${ch.key}`;
        }
      };

      card.innerHTML = `
        <div class="logo" style="background-image:url('${ch.image || ''}')"></div>
        <div class="title">${ch.title || 'Live Channel'}</div>
      `;

      grid.appendChild(card);
    });
  }

  function filterCategory(category) {
    if (category === 'All') {
      displayChannels(allChannels);
    } else {
      const filteredChannels = allChannels.filter(ch => ch.category === category);
      displayChannels(filteredChannels);
    }
  }
</script>

</body>
</html>
